{% extends 'base.html' %}
{% block title %}Message filter{% endblock %}

{% block content %}

{#<div class="container" style="padding-bottom: 30px">#}
{#    <form action="" method="post">#}
{#        {% csrf_token %}#}
{#        <table>#}
{#            {{ message_filter.form.as_p }}#}
{#            <input type="submit" value="Submit" />#}
{#        </table>#}
{#    </form>#}
{#    {% for obj in message_filter.qs %}#}
{#        {{ obj.message }}<br/>#}
{#    {% endfor %}#}
{#</div>#}

<div class="container">
  <div class="row" style="padding: 50px;">
    <form method="get">
        <div style="float: left">{{ filter_form.form.as_p }}</div>
      <input type="submit" />
    </form>
  </div>

  <div class="row">
    {% for message in filter %}
    <div class="media border p-3" style="margin-bottom: 15px">
{#      <img src="" alt="manager-photo" class="mr-3 mt-3 rounded-circle" style="width:60px;">#}
        <div class="media-body">
            <h4>manager: {{ message.manager }} <small><i class="text-muted">posted on {{ message.created }}</i></small></h4>
            <div class="text-muted">project company: {{ message.project.company }} -- project: {{ message.project }}</div>
            <div class="text-muted">communication options: {{ message.communication_options }}</div>
            <p>{{ message.message | safe | striptags| linebreaks }}</p>
            <a href="{% url 'message_detail' message.pk %}">
                <button type="button" class="btn btn-primary" style="margin-left: 15px; float: right">
                    detail commit
                </button>
            </a>
            {% include 'add_like_message.html' with message_id=message.pk %}
        </div>
    </div>
    {% endfor %}
  </div>
</div>
{#<div >#}
{#     <span class="step-links">#}
{#     {% if filter.has_previous %}#}
{#     <a href="?page={{ filter.previous_page_number }}"><span style="font-size:30px;float:left;" class="glyphicon glyphicon-arrow-left"> left</span></a>#}
{#     {% endif %}#}
{#     {% if filter.has_next %}#}
{#     <a href="?page={{ filter.next_page_number }}"> <span style="font-size:30px;float:right;" class="glyphicon glyphicon-arrow-right">right </span></a>#}
{#     {% endif %}#}
{#     </span>#}
{#</div>#}
    <div class="container d-grid gap-2">
                  <nav class="mx-auto" aria-label="Page navigation example" style="margin-top: 15px;">
                      <ul class="pagination">
                        {% if filter.has_previous %}
                            <li class="page-item">
                              <a class="page-link" href="{{ request.path }}?page={{ filter.previous_page_number }}" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                              </a>
                            </li>
                        {% else %}
                            <li class="page-item disabled">
                              <a class="page-link" href="" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                              </a>
                            </li>
                        {% endif %}
                        <li class="page-item page-link">Page {{ filter.number }} of {{ filter.paginator.num_pages }}</li>
                        {% if filter.has_next %}
                            <li class="page-item">
                              <a class="page-link" href="{{ request.path }}?page={{ filter.next_page_number }}" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                              </a>
                            </li>
                        {% else %}
                            <li class="page-item disabled">
                              <a class="page-link" href="" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                              </a>
                            </li>
                        {% endif %}
                      </ul>
                  </nav>
              </div>
{% endblock %}